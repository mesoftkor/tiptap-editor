{"version":3,"file":"slash-command.js","sources":["../../../src/core/extensions/slash-command.ts"],"sourcesContent":["import { Extension } from '@tiptap/core';\r\nimport Suggestion from '@tiptap/suggestion';\r\nimport type { SuggestionOptions } from '@tiptap/suggestion';\r\nimport type { SlashCommandItem } from '../types';\r\n\r\nexport { type SlashCommandItem };\r\n\r\n/**\r\n * 슬래시 명령 확장\r\n */\r\nexport const SlashCommand = Extension.create({\r\n  name: 'slashCommand',\r\n\r\n  addOptions() {\r\n    return {\r\n      suggestion: {\r\n        char: '/',\r\n        startOfLine: false,\r\n        command: ({ editor, range, props }: any) => {\r\n          props.command({ editor, range });\r\n        }\r\n      } as Partial<SuggestionOptions>\r\n    };\r\n  },\r\n\r\n  addProseMirrorPlugins() {\r\n    return [\r\n      Suggestion({\r\n        editor: this.editor,\r\n        ...this.options.suggestion\r\n      })\r\n    ];\r\n  }\r\n});\r\n\r\n/**\r\n * 기본 슬래시 명령 아이템 목록\r\n */\r\nexport function getDefaultSlashItems({ query }: { query: string }): SlashCommandItem[] {\r\n  const items: SlashCommandItem[] = [\r\n    {\r\n      title: '제목 1',\r\n      description: '큰 제목',\r\n      icon: 'H1',\r\n      command: ({ editor, range }) => {\r\n        editor.chain().focus().deleteRange(range).setHeading({ level: 1 }).run();\r\n      }\r\n    },\r\n    {\r\n      title: '제목 2',\r\n      description: '중간 제목',\r\n      icon: 'H2',\r\n      command: ({ editor, range }) => {\r\n        editor.chain().focus().deleteRange(range).setHeading({ level: 2 }).run();\r\n      }\r\n    },\r\n    {\r\n      title: '제목 3',\r\n      description: '작은 제목',\r\n      icon: 'H3',\r\n      command: ({ editor, range }) => {\r\n        editor.chain().focus().deleteRange(range).setHeading({ level: 3 }).run();\r\n      }\r\n    },\r\n    {\r\n      title: '본문',\r\n      description: '일반 텍스트',\r\n      icon: '¶',\r\n      command: ({ editor, range }) => {\r\n        editor.chain().focus().deleteRange(range).setParagraph().run();\r\n      }\r\n    },\r\n    {\r\n      title: '글머리 기호',\r\n      description: '글머리 기호 목록',\r\n      icon: '•',\r\n      command: ({ editor, range }) => {\r\n        editor.chain().focus().deleteRange(range).toggleBulletList().run();\r\n      }\r\n    },\r\n    {\r\n      title: '번호 매기기',\r\n      description: '번호 매기기 목록',\r\n      icon: '1.',\r\n      command: ({ editor, range }) => {\r\n        editor.chain().focus().deleteRange(range).toggleOrderedList().run();\r\n      }\r\n    },\r\n    {\r\n      title: '인용',\r\n      description: '인용 블록',\r\n      icon: '❝',\r\n      command: ({ editor, range }) => {\r\n        editor.chain().focus().deleteRange(range).toggleBlockquote().run();\r\n      }\r\n    },\r\n    {\r\n      title: '코드 블록',\r\n      description: '코드 블록',\r\n      icon: '</>',\r\n      command: ({ editor, range }) => {\r\n        editor.chain().focus().deleteRange(range).toggleCodeBlock().run();\r\n      }\r\n    },\r\n    {\r\n      title: '구분선',\r\n      description: '수평 구분선',\r\n      icon: '―',\r\n      command: ({ editor, range }) => {\r\n        editor.chain().focus().deleteRange(range).setHorizontalRule().run();\r\n      }\r\n    }\r\n  ];\r\n\r\n  return items.filter((item) =>\r\n    item.title.toLowerCase().includes(query.toLowerCase())\r\n  );\r\n}\r\n"],"names":["SlashCommand","Extension","editor","range","props","Suggestion","getDefaultSlashItems","query","item"],"mappings":"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"}